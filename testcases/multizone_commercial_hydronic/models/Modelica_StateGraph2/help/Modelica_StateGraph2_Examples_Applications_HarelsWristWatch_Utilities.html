<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<title>Modelica_StateGraph2.Examples.Applications.HarelsWristWatch.Utilities</title>
<meta name="HTML-Generator" content="Dymola">
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<style type="text/css">
*       { font-size: 100%; font-family: Arial, sans-serif; }
.modelica, .modelica * { font-size: 90%; font-family: Courier, monospace; white-space: pre; } /* For the Modelica code (in exported html). */
h4      { font-size: 100%; font-weight: bold; color: green; } 
h3      { font-size: 110%; font-weight: bold; color: green; }
h2      { font-size: 130%; font-weight: bold; color: green; }
address { font-weight: normal; }
td      { padding: 2px; border: 1px solid #808080; vertical-align: top; }
th      { padding: 2px; border: 1px solid #808080; vertical-align: top; font-weight: bold; }
table   { border: 1px solid #808080; border-collapse: collapse; }
pre, code {font-family: "Courier New", monospace;}
pre {white-space: pre; overflow-x : hidden;}
.ModelicaDescription {font-weight: bold;} /* For the description string of the class. */
.ModelicaBaseClass {} /* For the list of base-classes at the of the description. */
.ModelicaKeyword { color: blue; font-weight: normal; font-style: normal; } /* Keywords in Modelica. */
.ModelicaComment { color: #006400;  font-weight: normal; font-style: normal;} /* All three variants of comments in Modelica.  */
.ModelicaString { color: #006400;  font-weight: normal; font-style: normal;} /* String constants. */
.ModelicaClass { color: red; font-weight: normal; font-style: normal;} /* Formatting the names of referenced classes (for base-class and components). */
.ModelicaFunction { color: red; font-weight: normal; font-style: normal;} /* Formatting for called functions. */
.ModelicaTablePackageContent { } /* The table of contents for each package. */
.ModelicaTableCrossReference { } /* The optional cross-reference table. */
.ModelicaTableInputs {} /* The table of inputs for a function. */
.ModelicaTableOutputs {} /* The table of outputs for a function. */
.ModelicaTableParameters {} /* The table of parameters for a model/block. */
.ModelicaTableConnectors {} /* The table of connectors for a model/block. */
.ModelicaTableContents {} /* The table of contents for a connector. */
.ModelicaStartAttribute { font-weight: bold; } /* The formatting used for start-attribute in the table of parameters, to separate them from parameter values. */
.ModelicaParameterTab { background-color: #c0c0c0; font-weight: bold; } /* The tab-heading in the table of parameters */
.ModelicaParameterGroup { background-color: #e0e0e0; } /* The group-heading in the table of parameters */
</style>
</head>
<body>
<!--[if supportFields]><span style="mso-element:field-begin"></span>
<span style="mso-spacerun:yes"></span>XE Utilities<![endif]-->
<!--[if supportFields]><span style="mso-element:field-end"></span><![endif]-->
<h2><a name="Modelica_StateGraph2.Examples.Applications.HarelsWristWatch.Utilities"></a><a href="Modelica_StateGraph2_Examples_Applications_HarelsWristWatch.html#Modelica_StateGraph2.Examples.Applications.HarelsWristWatch"
>Modelica_StateGraph2.Examples.Applications.HarelsWristWatch</a>.Utilities</h2>
<p>
</p>
<h3>Package Content</h3>
<table summary="Package Content" class="ModelicaTablePackageContent">
<tr>
<th>Name</th>
<th>Description</th>
</tr>
<tr>
<td><img src="Modelica_StateGraph2.Exam1a7a3619874e8d43alBusS.png" alt="Modelica_StateGraph2.Examples.Applications.HarelsWristWatch.Utilities.SignalBus" width="20" height="20" align="top">&nbsp;<a href="Modelica_StateGraph2_Examples_Applications_HarelsWristWatch_Utilities.html#Modelica_StateGraph2.Examples.Applications.HarelsWristWatch.Utilities.SignalBus"
>SignalBus</a>
</td>
<td>&nbsp;</td>
</tr>
<tr>
<td><img src="Modelica_StateGraph2.Exam21ddac4266e392bcsplayS.png" alt="Modelica_StateGraph2.Examples.Applications.HarelsWristWatch.Utilities.WatchDisplay" width="20" height="20" align="top">&nbsp;<a href="Modelica_StateGraph2_Examples_Applications_HarelsWristWatch_Utilities.html#Modelica_StateGraph2.Examples.Applications.HarelsWristWatch.Utilities.WatchDisplay"
>WatchDisplay</a>
</td>
<td>&nbsp;</td>
</tr>
<tr>
<td><img src="Modelica_StateGraph2.Exam7c31dbc4b4d2490b.TimeS.png" alt="Modelica_StateGraph2.Examples.Applications.HarelsWristWatch.Utilities.Time" width="20" height="20" align="top">&nbsp;<a href="Modelica_StateGraph2_Examples_Applications_HarelsWristWatch_Utilities.html#Modelica_StateGraph2.Examples.Applications.HarelsWristWatch.Utilities.Time"
>Time</a>
</td>
<td>&nbsp;</td>
</tr>
<tr>
<td><img src="Modelica_StateGraph2.Exam59cbe481e7712c82coderS.png" alt="Modelica_StateGraph2.Examples.Applications.HarelsWristWatch.Utilities.DisplayDecoder" width="20" height="20" align="top">&nbsp;<a href="Modelica_StateGraph2_Examples_Applications_HarelsWristWatch_Utilities.html#Modelica_StateGraph2.Examples.Applications.HarelsWristWatch.Utilities.DisplayDecoder"
>DisplayDecoder</a>
</td>
<td>&nbsp;</td>
</tr>
<tr>
<td><img src="Modelica_StateGraph2.Exam6de65a165a7e8f1biggerS.png" alt="Modelica_StateGraph2.Examples.Applications.HarelsWristWatch.Utilities.AlarmTrigger" width="20" height="20" align="top">&nbsp;<a href="Modelica_StateGraph2_Examples_Applications_HarelsWristWatch_Utilities.html#Modelica_StateGraph2.Examples.Applications.HarelsWristWatch.Utilities.AlarmTrigger"
>AlarmTrigger</a>
</td>
<td>&nbsp;</td>
</tr>
<tr>
<td><img src="Modelica_StateGraph2.Exam28621db4f5b5e74aollerS.png" alt="Modelica_StateGraph2.Examples.Applications.HarelsWristWatch.Utilities.WatchController" width="20" height="20" align="top">&nbsp;<a href="Modelica_StateGraph2_Examples_Applications_HarelsWristWatch_Utilities.html#Modelica_StateGraph2.Examples.Applications.HarelsWristWatch.Utilities.WatchController"
>WatchController</a>
</td>
<td>&nbsp;</td>
</tr>
</table>
<!--[if supportFields]><span style="mso-element:field-begin"></span>
<span style="mso-spacerun:yes"></span>XE SignalBus<![endif]-->
<!--[if supportFields]><span style="mso-element:field-end"></span><![endif]-->
<h2><img src="Modelica_StateGraph2.Exam1a7a3619874e8d43alBusI.png" alt="Modelica_StateGraph2.Examples.Applications.HarelsWristWatch.Utilities.SignalBus" align="right" style="border: 1px solid" width="80" height="80">
<a name="Modelica_StateGraph2.Examples.Applications.HarelsWristWatch.Utilities.SignalBus"></a><a href="Modelica_StateGraph2_Examples_Applications_HarelsWristWatch_Utilities.html#Modelica_StateGraph2.Examples.Applications.HarelsWristWatch.Utilities"
>Modelica_StateGraph2.Examples.Applications.HarelsWristWatch.Utilities</a>.SignalBus</h2>
<h3>Information</h3>
<p><span class="ModelicaBaseClass">Extends from <a href="../../Modelica 3.2.3/help/Modelica_Icons.html#Modelica.Icons.SignalBus"
>Modelica.Icons.SignalBus</a> (Icon for signal bus).</span></p>
<h3>Contents</h3>
<table summary="Contents" class="ModelicaTableContents">
<tr><th>Name</th><th>Description</th></tr>
<tr><td>a</td><td>&nbsp;</td></tr>
<tr><td>b</td><td>&nbsp;</td></tr>
<tr><td>c</td><td>&nbsp;</td></tr>
<tr><td>d</td><td>&nbsp;</td></tr>
</table>
<!--[if supportFields]><span style="mso-element:field-begin"></span>
<span style="mso-spacerun:yes"></span>XE WatchDisplay<![endif]-->
<!--[if supportFields]><span style="mso-element:field-end"></span><![endif]-->
<h2><img src="Modelica_StateGraph2.Exam21ddac4266e392bcsplayI.png" alt="Modelica_StateGraph2.Examples.Applications.HarelsWristWatch.Utilities.WatchDisplay" align="right" style="border: 1px solid" width="80" height="80">
<a name="Modelica_StateGraph2.Examples.Applications.HarelsWristWatch.Utilities.WatchDisplay"></a><a href="Modelica_StateGraph2_Examples_Applications_HarelsWristWatch_Utilities.html#Modelica_StateGraph2.Examples.Applications.HarelsWristWatch.Utilities"
>Modelica_StateGraph2.Examples.Applications.HarelsWristWatch.Utilities</a>.WatchDisplay</h2>
<h3>Information</h3>

<p>Displays four large digits, one small digit and one two letter text according to signals provided through the IntegerInputs. The top IntegerInput defines the level of illumination of the display.</p>
<p><img src="../Resources/Images/StateGraph/Examples/WatchDisplay.png"/></p>
<p>Signal inputs are:</p>
<p><ul>
<li>Large digits, input at the bottom. Range: 0-9</li>
<li>Small digit, input at the right bottom. Range: 0-99</li>
<li>Textual Input, input at top right.  Range: 0-11. Signals are decoded as: 0 = &QUOT;&QUOT;, 1 = &QUOT;Mo&QUOT;, 2 = &QUOT;Tu&QUOT;, 3 = &QUOT;We&QUOT;, 4 = &QUOT;Th&QUOT;, 5 = &QUOT;Fr&QUOT;, 6 = &QUOT;Sa&QUOT;, 7 = &QUOT;Su&QUOT;, 8 = &QUOT;AM&QUOT;, 9 =&QUOT; PM&QUOT;, 10=&QUOT;Ch&QUOT;, 11 = &QUOT;SW&QUOT;.</li>
<li>Illumination level at the top. Range 0-2. Signals are decoded as: 0 - dark, 1 - normal, 2 - bright.</li>
</ul></p>

<h3>Parameters</h3>
<table summary="Parameters" class="ModelicaTableParameters">
<tr><th>Name</th><th>Description</th></tr>
<tr><td>precision</td><td>&nbsp;</td></tr>
</table>
<h3>Connectors</h3>
<table summary="Connectors" class="ModelicaTableConnectors">
<tr><th>Name</th><th>Description</th></tr>
<tr><td>large_digit1</td><td>&nbsp;</td></tr>
<tr><td>small_digit</td><td>&nbsp;</td></tr>
<tr><td>text_digit</td><td>1 = Mo, 2 = Tu, 3 = We, 4 = Th, 5 = Fr, 6 = Sa, 7 = Su, 8 = AM, 9 = PM, 10 = Ch, 11 = SW</td></tr>
<tr><td>illumination</td><td> 0 = dark {0,95,191}, 1 = standard {127,191,255}, 2 = bright {159,223,223}</td></tr>
<tr><td>large_digit2</td><td>&nbsp;</td></tr>
<tr><td>large_digit3</td><td>&nbsp;</td></tr>
<tr><td>large_digit4</td><td>&nbsp;</td></tr>
</table>
<!--[if supportFields]><span style="mso-element:field-begin"></span>
<span style="mso-spacerun:yes"></span>XE Time<![endif]-->
<!--[if supportFields]><span style="mso-element:field-end"></span><![endif]-->
<h2><img src="Modelica_StateGraph2.Exam7c31dbc4b4d2490b.TimeI.png" alt="Modelica_StateGraph2.Examples.Applications.HarelsWristWatch.Utilities.Time" align="right" style="border: 1px solid" width="80" height="80">
<a name="Modelica_StateGraph2.Examples.Applications.HarelsWristWatch.Utilities.Time"></a><a href="Modelica_StateGraph2_Examples_Applications_HarelsWristWatch_Utilities.html#Modelica_StateGraph2.Examples.Applications.HarelsWristWatch.Utilities"
>Modelica_StateGraph2.Examples.Applications.HarelsWristWatch.Utilities</a>.Time</h2>
<h3>Information</h3>

<p>Outputs a time integer signal depending on what mode the watch is currently in. As all four time signals, current time, time setting, alarm1 setting and alarm2 setting should be decoded in the exact same fashion, the output of Time is handled the same in DisplayDecoder. This model also contains the actual clock that makes one tick every second. when a user sets a new time, the discrete state in TriggeredAdd will be reset and the output will re-set to that value and continue ticking.</p>

<h3>Connectors</h3>
<table summary="Connectors" class="ModelicaTableConnectors">
<tr><th>Name</th><th>Description</th></tr>
<tr><td>signalBus</td><td>&nbsp;</td></tr>
<tr><td>y</td><td>&nbsp;</td></tr>
</table>
<!--[if supportFields]><span style="mso-element:field-begin"></span>
<span style="mso-spacerun:yes"></span>XE DisplayDecoder<![endif]-->
<!--[if supportFields]><span style="mso-element:field-end"></span><![endif]-->
<h2><img src="Modelica_StateGraph2.Exam59cbe481e7712c82coderI.png" alt="Modelica_StateGraph2.Examples.Applications.HarelsWristWatch.Utilities.DisplayDecoder" align="right" style="border: 1px solid" width="80" height="80">
<a name="Modelica_StateGraph2.Examples.Applications.HarelsWristWatch.Utilities.DisplayDecoder"></a><a href="Modelica_StateGraph2_Examples_Applications_HarelsWristWatch_Utilities.html#Modelica_StateGraph2.Examples.Applications.HarelsWristWatch.Utilities"
>Modelica_StateGraph2.Examples.Applications.HarelsWristWatch.Utilities</a>.DisplayDecoder</h2>
<h3>Information</h3>

<p>Decodes a number of integer signals (input at the bottom) into six digits to be displayed on a LED display according to definition in the WatchDisplay. Depending on the selected mode, the signals are masked in order to show the chosen entity correctly.</p>

<h3>Connectors</h3>
<table summary="Connectors" class="ModelicaTableConnectors">
<tr><th>Name</th><th>Description</th></tr>
<tr><td>time_signal</td><td>Raw input signal</td></tr>
<tr><td>large_digit_1</td><td>&nbsp;</td></tr>
<tr><td>large_digit_2</td><td>&nbsp;</td></tr>
<tr><td>large_digit_3</td><td>&nbsp;</td></tr>
<tr><td>large_digit_4</td><td>&nbsp;</td></tr>
<tr><td>small_digit</td><td>&nbsp;</td></tr>
<tr><td>text_digit</td><td>&nbsp;</td></tr>
<tr><td>time_mode</td><td>Raw input signal</td></tr>
<tr><td>date_mode</td><td>Raw input signal</td></tr>
<tr><td>year_mode</td><td>Raw input signal</td></tr>
<tr><td>stopwatch_mode</td><td>Raw input signal</td></tr>
<tr><td>day_signal</td><td>Raw input signal</td></tr>
<tr><td>date_signal</td><td>Raw input signal</td></tr>
<tr><td>year_signal</td><td>Raw input signal</td></tr>
<tr><td>stopwatch_signal</td><td>Raw input signal</td></tr>
<tr><td>mode_signal</td><td>Raw input signal</td></tr>
</table>
<!--[if supportFields]><span style="mso-element:field-begin"></span>
<span style="mso-spacerun:yes"></span>XE AlarmTrigger<![endif]-->
<!--[if supportFields]><span style="mso-element:field-end"></span><![endif]-->
<h2><img src="Modelica_StateGraph2.Exam6de65a165a7e8f1biggerI.png" alt="Modelica_StateGraph2.Examples.Applications.HarelsWristWatch.Utilities.AlarmTrigger" align="right" style="border: 1px solid" width="80" height="80">
<a name="Modelica_StateGraph2.Examples.Applications.HarelsWristWatch.Utilities.AlarmTrigger"></a><a href="Modelica_StateGraph2_Examples_Applications_HarelsWristWatch_Utilities.html#Modelica_StateGraph2.Examples.Applications.HarelsWristWatch.Utilities"
>Modelica_StateGraph2.Examples.Applications.HarelsWristWatch.Utilities</a>.AlarmTrigger</h2>
<h3>Information</h3>

<p>Logic for deciding whether any alarm should sound. The logic is defined in D. Harel&apos;s paper (see reference on package level) as:</p>
<p><br/>T1 is the time set when alarm1 will sound.</p>
<p>T2 is the time set when alarm1 will sound.</p>
<p>P1 = alarm1 enabled <b>and</b> (alarm2 disabled <b>or</b> <b>not</b> T1 == T2)</p>
<p>P2 = alarm2 enabled <b>and</b> (alarm1 disabled <b>or</b> <b>not</b> T1 == T2)</p>
<p>P = alarm1 enabled <b>and</b> alarm2 enabled <b>and</b> T1 == T2</p>
<p><br/>Alarm 1 will beep when time becomes equal to T1 and P1 is true.</p>
<p>Alarm 2 will beep when time becomes equal to T2 and P2 is true.</p>
<p>Both alarms will beep when time becomes equal to T1 and P is true.</p>

<h3>Connectors</h3>
<table summary="Connectors" class="ModelicaTableConnectors">
<tr><th>Name</th><th>Description</th></tr>
<tr><td>alarm1_enabled</td><td>&nbsp;</td></tr>
<tr><td>alarm2_enabled</td><td>&nbsp;</td></tr>
<tr><td>T1</td><td>&nbsp;</td></tr>
<tr><td>T2</td><td>&nbsp;</td></tr>
<tr><td>P1</td><td>&nbsp;</td></tr>
<tr><td>P2</td><td>&nbsp;</td></tr>
<tr><td>P</td><td>&nbsp;</td></tr>
<tr><td>alarms_beep</td><td>&nbsp;</td></tr>
<tr><td>T_hits_T1</td><td>&nbsp;</td></tr>
<tr><td>T_hits_T2</td><td>&nbsp;</td></tr>
</table>
<!--[if supportFields]><span style="mso-element:field-begin"></span>
<span style="mso-spacerun:yes"></span>XE WatchController<![endif]-->
<!--[if supportFields]><span style="mso-element:field-end"></span><![endif]-->
<h2><img src="Modelica_StateGraph2.Exam28621db4f5b5e74aollerI.png" alt="Modelica_StateGraph2.Examples.Applications.HarelsWristWatch.Utilities.WatchController" align="right" style="border: 1px solid" width="80" height="80">
<a name="Modelica_StateGraph2.Examples.Applications.HarelsWristWatch.Utilities.WatchController"></a><a href="Modelica_StateGraph2_Examples_Applications_HarelsWristWatch_Utilities.html#Modelica_StateGraph2.Examples.Applications.HarelsWristWatch.Utilities"
>Modelica_StateGraph2.Examples.Applications.HarelsWristWatch.Utilities</a>.WatchController</h2>
<h3>Information</h3>

<p>The watch controller contains the clock functionality, gathering of stopwatch signals, time settings and modes from different parts of the wristwatch that are gathered, grouped together and finally decoded into outputs to the LED display.</p>

<h3>Connectors</h3>
<table summary="Connectors" class="ModelicaTableConnectors">
<tr><th>Name</th><th>Description</th></tr>
<tr><td>display_node</td><td>&nbsp;</td></tr>
<tr><td>large_digit1</td><td>&nbsp;</td></tr>
<tr><td>large_digit2</td><td>&nbsp;</td></tr>
<tr><td>large_digit3</td><td>&nbsp;</td></tr>
<tr><td>large_digit4</td><td>&nbsp;</td></tr>
<tr><td>small_digit</td><td>&nbsp;</td></tr>
<tr><td>text_digit</td><td>&nbsp;</td></tr>
</table>
<address>
<a href="http://www.3ds.com/">Automatically generated</a> Mon Apr  1 15:05:49 2019.
</address>
</body>
</html>
